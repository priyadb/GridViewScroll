/*
 * GridViewScroll with jQuery v0.9.6.2
 * http://gridviewscroll.aspcity.idv.tw/

 * Copyright (c) 2012 Likol Lee
 * Released under the MIT license

 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: 

 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. 

 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR 
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, 
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE 
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER 
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, 
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN 
 * THE SOFTWARE.
 */
(function (n) { jQuery.fn.extend({ gridviewScroll: function (t) { function kt(n, t) { sr(n, t), hr(n, t), cr(n, t) } function sr(t, i) { t.find("input").each(function () { var r = n(this)[0].type, u; if (r == "checkbox" || r == "radio" || r == "text") { var t = n(this), f = t[0].id.replace("_Copy", ""), e = t[0].name.replace("_Copy", ""); t[0].name = e + "_" + i, t[0].id = f + "_" + i, u = n("#" + f); switch (r) { case "checkbox": case "radio": t.off("change"), t.change(function () { var t = n(this).is(":checked"); u.attr("checked", t) }); break; case "text": t.change(function () { var t = n(this).val(); u.val(t) }) } } }) } function hr(t, i) { t.find("select").each(function () { var t = n(this), u = t[0].id.replace("_Copy", ""), f = t[0].name.replace("_Copy", ""), r; t[0].name = f + "_" + i, t[0].id = u + "_" + i, r = n("#" + u), t.off("change"), t.prop("selectedIndex", r[0].selectedIndex), t.change(function () { var n = this.selectedIndex; r.prop("selectedIndex", n) }) }) } function cr(t, i) { t.find("textarea").each(function () { var t = n(this), r = t[0].id.replace("_Copy", ""), f = t[0].name.replace("_Copy", ""), u; t[0].name = f + "_" + i, t[0].id = r + "_" + i, u = n("#" + r), t.off("change"), t.change(function () { var t = n(this).val(); u.val(t) }) }) } function lr() { var g = a.attr("id") + "Freeze", ot, o, st, nt, w, b, ht, d, ct, s, at, e, h, et, l, v, t; for (ar(), document.getElementById(g) ? ft = n("#" + g) : (ft = n(a[0].cloneNode(!1)), ft.attr("id", g), ft.css({ position: "absolute", width: "", height: "100%", top: 0, left: 0, zIndex: rr }), o = n(ut[0].cloneNode(!1)), ot = o.attr("id") + "Freeze", o.attr("id", ot), o.css({ width: "", height: "100%" }), ft[0].appendChild(o[0]), rt[0].appendChild(ft[0])), o = ft.children().eq(0) ; o[0].hasChildNodes() ;) o[0].removeChild(o[0].lastChild); for (st = document.createElement("TBODY"), o[0].appendChild(st), nt = ut.children().eq(0), w = k[0].length, e = 0; e < i.headerrowcount; e++) { for (h = nt[0].rows[e].cloneNode(!1), t = 0; t < w; t++) (b = k[e][t], b != "RS" && b != "CS") && (ht = parseInt(b.split(":")[1]), t < lt && (v = nt[0].rows[e].cells[ht].cloneNode(!0), h.appendChild(v))); kt(n(h), "freezeheader"), o[0].childNodes[0].appendChild(h) } for (ft[0].style.display = "", d = r.attr("id") + "Freeze", document.getElementById(d) ? (p = n("#" + d), p[0].style.height = r[0].style.height, p.scrollTop(0)) : (p = n(r[0].cloneNode(!1)), p.attr("id", d), p.css({ position: "absolute", width: "", top: 0, left: 0, zIndex: rr, display: "none" }), s = n(u[0].cloneNode(!1)), ct = s.attr("id") + "Freeze", s.attr("id", ct), s[0].style.width = "", p[0].appendChild(s[0]), f[0].appendChild(p[0])), s = p.children().eq(0) ; s[0].hasChildNodes() ;) s[0].removeChild(s[0].lastChild); at = document.createElement("TBODY"), s[0].appendChild(at); var vt = c[0].rows.length, tt = lt, it = tt, y = []; for (e = 0; e < vt; e++) { if (h = c[0].rows[e].cloneNode(!1), e < i.headerrowcount) h.style.display = "none"; else { for (t = 0; t < w; t++) et = c[0].rows[e].cells[t], t < tt && (l = et.rowSpan, l = l ? parseInt(l) : 1, l != 1 && (it--, y[t] = l), v = et.cloneNode(!0), h.appendChild(v)); for (t = 0; t < w; t++) y[t] && y[t] > 0 && (y[t]--, y[t] == 0 && it++); tt = it, kt(n(h), "freezeitem") } s[0].childNodes[0].appendChild(h) } p[0].style.display = "" } function ar() { var r = 0, n, t; for (lt = 0, n = 0; n < k[0].length; n++) { if (t = k[0][n], t == "RS" || t == "CS") { lt++; continue } if (i.freezesize == r) return lt; r++, lt++ } } function vr() { var e, r, t, u, o, f, n; for (ni = [], e = c.children().length, n = i.headerrowcount; n < e; n++) r = c[0].rows[n], t = r.cells[0], t.style.height = "", u = t.childNodes[0], u && u.className == "GridCellDiv" || (u = gi(t)); for (o = 1, n = i.headerrowcount; n < e; n++) { var r = c[0].rows[n], t = r.cells[0], u = t.childNodes[0], s = 0; o == 1 ? (f = t.rowSpan, f = f ? parseInt(f) : 1, o = f, s = di(r)) : o--, s = di(r), ni[n] = s } for (n = i.headerrowcount; n < e; n++) { var r = c[0].rows[n], t = r.cells[0], u = t.childNodes[0]; ni[n] != 0 && (t.style.height = ni[n] + "px") } } function di(t) { var u = 0, i = t.cells[0], r = n(i), f = parseInt(r.css("padding-top")), e = parseInt(r.css("padding-bottom")); return (u = i.offsetHeight - f - e) + 0 } function yr() { var rt = u.attr("id") + "VerticalRail", r, ut, c, a, t, v, p, k, tt; document.getElementById(rt) ? l = n("#" + rt) : (l = n(it).css({ background: i.railcolor, width: i.railsize + "px", position: "absolute", zIndex: et }), l.attr("id", rt), f.append(l), t = { right: 0 }, l.css(t), l.mousedown(function (t) { clearInterval(h); var i = n(this).offset(), r = t.clientY - i.top + n(document).scrollTop(), u = e.offset().top - i.top, f = e.height() + u; r < u && y(-1, !1, !0), r > f && y(1, !1, !0), h = window.setInterval(function () { var r = t.clientY - i.top + n(document).scrollTop(), u = e.offset().top - i.top, f = e.height() + u; r < u && y(-1, !1, !0), r > f && y(1, !1, !0) }, 200) }), l.mouseup(function () { clearInterval(h) }), l.mouseout(function () { clearInterval(h) })), r = u.attr("id") + "VerticalBar", document.getElementById(r) ? e = n("#" + r) : (e = n(it).css({ background: i.barcolor, width: i.barsize + "px", position: "absolute", zIndex: et }), e.attr("id", r), ut = { right: (i.railsize - i.barsize) / 2 }, e.css(ut), f.append(e), e.draggable({ axis: "y", containment: l, start: function () { n(this).css({ backgroundColor: i.barhovercolor }) }, stop: function () { n(this).css({ backgroundColor: i.barcolor }) }, drag: function () { y(0, !1) } })), c = u.attr("id") + "Vertical_TIMG", document.getElementById(c) ? w = n("#" + c) : (w = n(dt).css({ height: i.arrowsize, position: "absolute", zIndex: et, top: 0 }), w.attr("id", c), w.attr("src", i.varrowtopimg), f.append(w), t = { right: 0 }, w.css(t), w.mousedown(function () { clearInterval(h), y(-1, !1, !0), h = window.setInterval(function () { y(-1, !1, !0) }, 200) }), w.mouseup(function () { clearInterval(h) }), w.mouseout(function () { clearInterval(h) })), a = u.attr("id") + "Vertical_BIMG", document.getElementById(a) ? b = n("#" + a) : (b = n(dt).css({ height: i.arrowsize, position: "absolute", zIndex: et }), b.attr("id", a), b.attr("src", i.varrowbottomimg), f.append(b), t = { right: 0 }, b.css(t), b.mousedown(function () { clearInterval(h), y(1, !1, !0), h = window.setInterval(function () { y(1, !1, !0) }, 200) }), b.mouseup(function () { clearInterval(h) }), b.mouseout(function () { clearInterval(h) })), v = u.attr("id") + "HorizontalRail", document.getElementById(v) ? o = n("#" + v) : (o = n(it).css({ background: i.railcolor, height: i.railsize + "px", position: "absolute", zIndex: et }), o.attr("id", v), f.append(o), o.mousedown(function (t) { clearInterval(h); var i = n(this).offset(), r = t.clientX - i.left + n(document).scrollLeft(), u = s.offset().left - i.left, f = s.width() + u; r < u && d(-1, !0), r > f && d(1, !0), h = window.setInterval(function () { var r = t.clientX - i.left + n(document).scrollLeft(), u = s.offset().left - i.left, f = s.width() + u; r < u && d(-1, !0), r > f && d(1, !0) }, 200) }), o.mouseup(function () { clearInterval(h) }), o.mouseout(function () { clearInterval(h) })), p = u.attr("id") + "HorizontalBar", document.getElementById(p) ? s = n("#" + p) : (s = n(it).css({ background: i.barcolor, height: i.barsize + "px", position: "absolute", zIndex: et }), s.attr("id", p), f.append(s), s.draggable({ axis: "x", containment: o, start: function () { n(this).css({ backgroundColor: i.barhovercolor }) }, stop: function () { n(this).css({ backgroundColor: i.barcolor }) }, drag: function () { d() } })), k = u.attr("id") + "Horizontal_LIMG", document.getElementById(k) ? g = n("#" + k) : (g = n(dt).css({ width: i.arrowsize, position: "absolute", zIndex: et, top: 0 }), g.attr("id", k), g.attr("src", i.harrowleftimg), f.append(g), g.mousedown(function () { clearInterval(h), d(-1, !0), h = window.setInterval(function () { d(-1, !0) }, 200) }), g.mouseup(function () { clearInterval(h) }), g.mouseout(function () { clearInterval(h) })), tt = u.attr("id") + "Horizontal_RIMG", document.getElementById(tt) ? nt = n("#" + tt) : (nt = n(dt).css({ width: i.arrowsize, position: "absolute", zIndex: et }), nt.attr("id", tt), nt.attr("src", i.harrowrightimg), f.append(nt), nt.mousedown(function () { clearInterval(h), d(1, !0), h = window.setInterval(function () { d(1, !0) }, 200) }), nt.mouseup(function () { clearInterval(h) }), nt.mouseout(function () { clearInterval(h) })) } function pr() { var n, t; l.css({ height: f.outerHeight() - i.railsize - i.arrowsize * 2, top: i.arrowsize }), e.css({ top: i.arrowsize }), o.css({ width: f.outerWidth() - i.railsize - i.arrowsize * 2, top: f.outerHeight() - i.railsize, left: i.arrowsize }), s.css({ top: f.outerHeight() - (i.railsize + i.barsize) / 2, left: i.arrowsize }), n = Math.max(r.outerHeight() / r[0].scrollHeight * l.outerHeight(), i.minscrollbarsize), e.css({ height: n + "px" }), t = Math.max(r.outerWidth() / r[0].scrollWidth * o.outerWidth(), i.minscrollbarsize), s.css({ width: t + "px" }), n + i.arrowsize * 2 >= r.outerHeight() ? (l.hide(), e.hide(), w.hide(), b.hide(), li = !0) : (l.show(), e.show(), w.show(), b.show()), t + i.arrowsize * 2 >= r.outerWidth() ? (o.hide(), s.hide(), g.hide(), nt.hide()) : (o.show(), s.show(), g.show(), nt.show()), l.is(":hidden") && (rt.css({ width: v }), a.css({ width: v }), f.css({ width: v }), r.css({ width: v }), o.css({ width: v - i.arrowsize * 2 }), t = Math.max(r.outerWidth() / r[0].scrollWidth * o.outerWidth(), i.minscrollbarsize), s.css({ width: t + "px" }), o.css({ top: f.height() - i.railsize }), s.css({ top: f.height() - (i.railsize + i.barsize) / 2 })), o.is(":hidden") && (l.is(":hidden") ? (f.css({ height: u.height() }), r.css({ height: u.height() })) : (f.css({ height: ht }), r.css({ height: ht })), l.css({ height: ht - i.arrowsize * 2 }), n = Math.max(r.outerHeight() / r[0].scrollHeight * l.outerHeight(), i.minscrollbarsize), e.css({ height: n + "px" })), w.css({ top: 0 }), b.css({ top: l.outerHeight() + i.arrowsize }), g.css({ top: r.outerHeight() }), nt.css({ top: r.outerHeight(), left: o.outerWidth() + i.arrowsize }), i.arrowsize == 0 && (w.hide(), b.hide(), g.hide(), nt.hide()) } function y(n, t, u, f) { var s = n, c = r.outerHeight() - e.outerHeight() - i.arrowsize, h, a; if (t || u ? (h = 0, h = t ? n * parseInt(i.wheelstep) / 100 : n * .8, s = parseInt(e.css("top")) + h * r.outerHeight() / r[0].scrollHeight * l.outerHeight(), s = Math.min(Math.max(s, i.arrowsize), c), e.css({ top: s + "px" })) : f && (s = Math.min(Math.max(s, i.arrowsize), c), e.css({ top: s + "px" })), typeof i.onScrollVertical == "function") i.onScrollVertical(parseInt(e.css("top")) - i.arrowsize); a = (parseInt(e.css("top")) - i.arrowsize) / (l.outerHeight() - e.outerHeight()), s = a * (r[0].scrollHeight - r.outerHeight()), r.scrollTop(s), i.freezesize != 0 && o[0].style.display != "none" && (s + r.outerHeight() > r[0].scrollHeight && (s = r[0].scrollHeight - r.outerHeight()), p.scrollTop(s)) } function d(n, t, u) { var f = n, h, e, c; if (t ? (h = n * .8, f = parseInt(s.css("left")) + h * r.outerWidth() / r[0].scrollWidth * o.outerWidth(), e = r.outerWidth() - s.outerWidth() - i.arrowsize, f = Math.min(Math.max(f, i.arrowsize), e), s.css({ left: f + "px" })) : u && (e = r.outerWidth() - s.outerWidth() - i.arrowsize, f = Math.min(Math.max(f, i.arrowsize), e), s.css({ left: f + "px" })), typeof i.onScrollHorizontal == "function") i.onScrollHorizontal(parseInt(s.css("left")) - i.arrowsize); c = (parseInt(s.css("left")) - i.arrowsize) / (o.outerWidth() - s.outerWidth()), f = c * (r[0].scrollWidth - r.outerWidth()), f + a.outerWidth() > a[0].scrollWidth && (f = a[0].scrollWidth - a.outerWidth()), r.scrollLeft(f), a.scrollLeft(f) } function wr() { var l = ot[0].cells.length, a, v, y, o, s, e, r, h, w, p, t; if (ct.show(), i.headerrowcount > 1) for (t = 1; t < i.headerrowcount; t++) c.children().eq(t).show(); for (t = 0; t < l; t++) ot[0].cells[t].childNodes[0].style.width = ""; for (a = 1, v = u[0].offsetWidth, v < f[0].offsetWidth && (a = 0), y = ut.children().eq(0), br(), ai = [], gt = [], t = 0; t < l; t++) gt[t] = !1, o = ot[0].cells[t], e = o.childNodes[0].offsetWidth + a, o.style.width && o.style.width != "auto" && (s = o.style.width, s.indexOf("%") == -1 ? e = parseInt(o.style.width) : (s = s.replace("%", ""), e = parseInt(v * (s / 100)), gt[t] = !0)), a == 0 && t == l - 1 && e--, ai[t] = e; for (t = 0; t < l; t++) { if (e = ai[t], n(ot[0].cells[t]).css("width", ""), ot[0].cells[t].childNodes[0].style.width = e + "px", gt[t]) for (r = i.headerrowcount; r < u[0].rows.length; r++) n(u[0].rows[r].cells[t]).css("width", ""); for (r = 0; r < i.headerrowcount; r++) (h = k[r][t], h != "RS" && h != "CS") && (w = h.split(":")[0], w != "N") && (p = h.split(":")[1], n(y[0].rows[r].cells[p]).css("width", ""), y[0].rows[r].cells[p].childNodes[0].style.width = e + "px") } if (ct.hide(), i.headerrowcount > 1) for (t = 1; t < i.headerrowcount; t++) c.children().eq(t).hide() } function br() { for (var s = ot[0].cells.length, e = [], t, o, f, u, r, n = 0; n < i.headerrowcount; n++) k[n] = [], e[n] = 0; for (t = 0; t < s; t++) for (n = 0; n < i.headerrowcount; n++) if (k[n][t] != "RS" && k[n][t] != "CS") { if (o = c.children().eq(n).children().eq(e[n]), e[n]++, f = o.attr("rowspan"), u = o.attr("colspan"), f = f ? parseInt(f) : 1, u = u ? parseInt(u) : 1, f != 1) for (r = n; r < f; r++) k[r][t] = "RS"; if (u != 1) { for (r = 1; r < u; r++) k[n][r + t] = "CS"; k[n][t] = "N:" + (e[n] - 1) } u == 1 && (k[n][t] = "Y:" + (e[n] - 1)) } return k } function kr() { var r, t; for (u[0].style.display = "none", r = i.headerrowcount + 1, t = 0; t < r; t++) c.children().eq(t).find("td, th").each(function () { var t = n(this)[0]; t.childNodes[0] && (t.childNodes[0].tagName == "DIV" || t.childNodes[0].className == "GridCellDiv") || gi(t) }); u[0].style.display = "" } function gi(n) { var t = document.createElement("DIV"); for (t.className = "GridCellDiv"; n.hasChildNodes() ;) t.appendChild(n.firstChild); return n.appendChild(t), t } function dr() { var p = u.attr("id") + "Wrapper", r = n("#" + p), a, h, f, l, t, v, i, y, e, o, s; if (r[0] && (a = u[0].id + "Copy", h = document.getElementById(a), h)) { for (r[0].parentNode.insertBefore(u[0], r[0]), f = h.rows.length, t = 0; t < f; t++) u[0].rows[t].style.display = ""; for (c = u.children().eq(0), gr(f), l = u[0].rows.length, t = f; t < l; t++) v = c[0].rows[t], i = v.cells[0], i.style.height = "", i.childNodes[0] && i.childNodes[0].tagName == "DIV" && i.childNodes[0].className == "GridCellDiv" && nr(i); y = u[0].id + "PagerBottom", e = document.getElementById(y), e && (o = document.createElement("TD"), o.colSpan = u[0].rows[l - 2].cells.length, o.appendChild(e.childNodes[0]), s = document.createElement("TR"), s.className = e.className, s.appendChild(o), n(s).appendTo(u.children().eq(0))), r.remove() } } function gr(t) { for (var r = t + 1, i = 0; i < r; i++) c.children().eq(i).find("td, th").each(function () { var t = n(this)[0]; t.childNodes[0] && t.childNodes[0].tagName == "DIV" && t.childNodes[0].className == "GridCellDiv" && nr(t) }) } function nr(t) { for (var i = t.childNodes[0]; i.hasChildNodes() ;) t.appendChild(i.firstChild); n(i).remove() } function ru(n) { var t = r[0].scrollLeft, u = r.outerWidth(), f = n.position().left, e = n.outerWidth(); t = f + e - u + t + 5, t < 0 && (t = 0); var h = o.outerWidth() - s.outerWidth(), c = r[0].scrollWidth - r.outerWidth(), l = t / (c / h) + i.arrowsize; s.css({ left: l + "px" }), r.scrollLeft(t), a.scrollLeft(t) } function uu(n) { var u = n.position().top, f = n.outerHeight(), t = r[0].scrollTop, s = r.outerHeight(); t = u + f - s + t + 5, t < 0 && (t = 0); var h = l.outerHeight() - e.outerHeight(), c = r[0].scrollHeight - r.outerHeight(), a = t / (c / h) + i.arrowsize; e.css({ top: a + "px" }), r.scrollTop(t), i.freezesize != 0 && o[0].style.display != "none" && p.scrollTop(t) } var i = n.extend({ width: 500, height: 300, railcolor: "#F0F0F0", barcolor: "#CDCDCD", barhovercolor: "#606060", bgcolor: "#F0F0F0", freezesize: 0, arrowsize: 0, varrowtopimg: "", varrowbottomimg: "", harrowleftimg: "", harrowrightimg: "", headerrowcount: 1, railsize: 15, barsize: 15, wheelstep: 20, minscrollbarsize: 10, startVertical: 0, startHorizontal: 0, onScrollVertical: null, onScrollHorizontal: null, enabled: !0, scrollAssociate: null }, t), h = null, tr = !0, c = null, ct = null, ot = null, at = !1, li = !1, it = "<div><\/div>", dt = "<img />", rt = null, f = null, a = null, r = null, l = null, e = null, w = null, b = null, o = null, s = null, g = null, nt = null, ft = null, p = null, ut = null, vt = null, u = null, st = null, tt = null, k = [], ai = null, gt = null, ni = null, ir = 0, rr = 0, et = 0, ht = 0, lt = -1, u = n(this), v, yt, ti, ii, ri, ui, fi, ei, oi, si, vi, pt, tu, iu, wt, hi, ur, bt, ci, or; if (u[0]) { if (!i.enabled) { dr(); return } if (c = u.children().eq(0), !(c.children().length < 2)) { if (v = i.width, yt = i.height, v == "100%" && (v = n(window).width()), yt == "100%" && (yt = n(window).height()), ti = u.attr("id") + "Wrapper", document.getElementById(ti) ? st = n("#" + ti) : (st = n(it), st.attr("id", ti), st.css({ width: v, height: yt }), u.before(st)), ii = u.attr("id") + "PanelHeader", document.getElementById(ii) ? rt = n("#" + ii) : (rt = n(it), rt.attr("id", ii), rt.appendTo(st)), rt.css({ background: i.bgcolor }), ri = u.attr("id") + "PanelItem", document.getElementById(ri) ? f = n("#" + ri) : (f = n(it), f.attr("id", ri), f.appendTo(st)), f.css({ background: i.bgcolor }), ui = u.attr("id") + "PanelHeaderContent", document.getElementById(ui) ? (a = n("#" + ui), a.scrollLeft(0), a.scrollTop(0)) : (a = n(it).css({ background: "#FFFFFF" }), a.attr("id", ui), a.appendTo(rt)), fi = u.attr("id") + "PanelItemContent", document.getElementById(fi) ? (r = n("#" + fi), r.scrollLeft(0), r.scrollTop(0)) : (r = n(it).css({ background: "#FFFFFF" }), r.attr("id", fi), r.appendTo(f), u.appendTo(r)), ct = c.children().eq(0), ct.attr("id", u.attr("id") + "Header"), ot = c.children().eq(i.headerrowcount), ei = u.attr("id") + "Copy", document.getElementById(ei) ? ut = n("#" + ei) : (ut = n(u[0].cloneNode(!1)), ut.attr("id", ei), ut.appendTo(a), tr = !1), kr(), oi = ct.attr("id") + "Copy", document.getElementById(oi)) vt = n("#" + oi); else if (vt = ct.clone(!1), vt.attr("id", oi), kt(vt, "Copy"), vt.appendTo(ut), i.headerrowcount > 1) for (si = 1; si < i.headerrowcount; si++) vi = c.children().eq(si).clone(!1), kt(vi, "Copy"), vi.appendTo(ut); if (r[0].style.display = "none", ht = yt - rt[0].offsetHeight, r[0].style.display = "", pt = u.attr("id") + "PagerBottom", document.getElementById(pt)) tt = n("#" + pt), tt[0] && tt.width(v); else { var yi = c.children().eq(c.children().length - 1), nu = yi.children().eq(0), pi = nu.children().eq(0); pi[0] != null && pi[0].tagName == "TABLE" && (document.getElementById(pt) || (tt = n(it), tt.attr("id", pt), tt.addClass(yi[0].className), f.after(tt), pi.appendTo(tt), tt.width(v)), yi.remove()) } if (tt && tt[0] && (ht -= tt.height()), f.css({ position: "relative", overflow: "hidden", width: v, height: ht }), r.css({ overflow: "hidden", width: v - i.railsize, height: ht - i.railsize, zIndex: ir }), rt.css({ position: "relative", overflow: "hidden", width: v }), a.css({ overflow: "hidden", width: v - i.railsize, zIndex: ir }), wr(), i.freezesize != 0 && (tu = c.children().length - 1, iu = i.headerrowcount + 1, vr()), yr(), pr(), wt = a.attr("id") + "Freeze", hi = r.attr("id") + "Freeze", i.freezesize != 0 && o[0].style.display != "none" ? lr() : (wt = a.attr("id") + "Freeze", hi = r.attr("id") + "Freeze", document.getElementById(wt) && (n("#" + wt).hide(), n("#" + hi).hide())), i.startVertical > 0 ? (bt = parseInt(i.startVertical) + i.arrowsize, y(bt, !1, !1, !0)) : i.startVertical == -1 && (ur = r.outerHeight() - e.outerHeight() - i.arrowsize, y(ur, !1, !1, !0)), i.startHorizontal > 0 && (bt = parseInt(i.startHorizontal) + i.arrowsize, d(bt, !1, !0)), i.scrollAssociate) { var wi = i.scrollAssociate.mode, bi = i.scrollAssociate.target, ki = n("#" + bi + "PanelItemContent"), fr = n("#" + bi + "VerticalBar"), er = n("#" + bi + "HorizontalBar"); wi == "both" ? ki.bind("scroll", function () { var n = parseInt(fr.css("top")), t = parseInt(er.css("left")); y(n, !1, !1, !0), d(t, !1, !0) }) : wi == "vertical" ? ki.bind("scroll", function () { var n = parseInt(fr.css("top")); y(n, !1, !1, !0) }) : wi == "horizontal" && ki.bind("scroll", function () { var n = parseInt(er.css("left")); d(n, !1, !0) }) } if (r.bind("keyup", function (t) { var i, u, r; if (t.keyCode == 9) { if (i = n(t.target), !i[0]) return; ru(i), uu(i), u = i[0].id + "_freezeitem", r = n("#" + u), r[0] && r.focus() } }), i.freezesize != 0 && o[0].style.display != "none" && p.bind("keydown", function (t) { var i, u, r; if (t.keyCode == 9) { if (i = n(t.target), !i[0]) return; u = i[0].id.replace("_freezeitem", ""), r = n("#" + u), r[0] && r.focus() } }), !tr) return r.hover(function () { at = !0 }, function () { at = !1 }), i.freezesize != 0 && o[0].style.display != "none" && p.hover(function () { at = !0 }, function () { at = !1 }), ci = function (n) { if (at && !l.is(":hidden")) { var n = n || window.event, t = 0; n.wheelDelta && (t = -n.wheelDelta / 120), n.detail && (t = n.detail / 3), y(t, !0), n.preventDefault && !li && n.preventDefault(), li || (n.returnValue = !1) } }, or = function () { window.addEventListener ? (this.addEventListener("DOMMouseScroll", ci, !1), this.addEventListener("mousewheel", ci, !1)) : document.attachEvent("onmousewheel", ci) }, or(), this } } } }), jQuery.fn.extend({ gridviewScroll: jQuery.fn.gridviewScroll }) })(jQuery)